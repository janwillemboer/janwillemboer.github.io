<!DOCTYPE html>
<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Rubric 1.4 Web Applications (draft)</title>
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
      <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&amp;family=Fira+Sans:wght@200;300&amp;display=swap" rel="stylesheet">
   </head>
   <body>
      <style>
                    body {
                        font-family: "Fira Sans", sans-serif;
                        font-weight: 200;
                    }
                    
                    h1 {
                        font-family: 'Amatic SC', cursive;
                        font-size: 46px;
                        text-align: center;
                    }
                    
                    td,
                    th {
                        text-align: left;
                        vertical-align: top;
                        padding: 10px;
                    }
                    
                    thead th {
                        text-align: center;
                    }
                    
                    tr:nth-child(even) {
                        background-color: #f2f2f2;
                    }
                    
                    th {
                        background-color: Silver;
                    }
                    td {
                        border: 1px solid transparent;
                    }
                    
                    td.selected {
                        background-color: LightBlue;
                        border: 1px solid navy;
                    }
                    em {
                        font-size: small;
                    }
                </style>
      <h1>Rubric 1.4 Web Applications (Draft)</h1>
      <table>
         <thead>
            <tr>
               <th></th>
               <th>Insufficient</th>
               <th>Mediocre</th>
               <th>Sufficient</th>
               <th>Good</th>
               <th>Excellent</th>
            </tr>
         </thead>
         <tbody id="rubricTable">
            <tr>
               <th>Ingangseisen (-100 indien niet voldaan)
               
            </th>
               <td points="-100">Documentatie mist.



<br><br>

OF

<br><br>



Backend project mist, of niet geschreven in JavaScript (gebruikmakende van NodeJS en Express).



<br><br>

OF

<br><br>



De backend gebruikt geen database (SQLite).



<br><br>

OF

<br><br>



Front end project mist.



<br><br>

OF

<br><br>



Geen connectie tussen front end (Fetch) en backend (endpoints).</td>
               <td points="0">Niet gebruikt</td>
               <td points="0">Niet gebruikt</td>
               <td points="0">Niet gebruikt</td>
               <td points="0">Documentatie is ingeleverd.



<br><br>

EN

<br><br>



Backend project is ingeleverd.



<br><br>

EN

<br><br>



Front end project is ingeleverd.



<br><br>

EN

<br><br>



Backend en front end zijn verbonden, gebruikmakende van API calls.</td>
            </tr>
            <tr>
               <th>Documentatie: Ontwerp REST API
                (10)
            </th>
               <td points="0">Geen REST API specificatie.</td>
               <td points="3">Slechts een paar endpoints zijn gespecificeerd.



<br><br>

OF

<br><br>



De specificatie gevat veel inconsistenties of fouten.</td>
               <td points="6">(De meeste) endpoints zijn gespecificeerd, maar bevatten een aantal inconsistenties of fouten.</td>
               <td points="8">Alle beschikbare endpoints zijn gedocumenteerd, maar bevatten een paar inconsistenties of fouten.</td>
               <td points="10">Alle endpoints zijn gedocumenteerd en bevat alle informatie, inclusief omschrijving, params, body, status codes en uitleg.</td>
            </tr>
            <tr>
               <th>Documentatie: UML diagrammen
                (10)
            </th>
               <td points="0">Geen diagrammen.</td>
               <td points="3">Slechts één type diagram is gemaakt en geen verdere uitleg is aanwezig.</td>
               <td points="6">Er mist een diagram, maar de andere diagrammen is erg duidelijk en voorzien van uitleg.</td>
               <td points="8">Er zijn class diagrams, sequence diagrams en use-case diagrams gebruikt in de documentatie.



Alle diagrammen zijn erg duidelijk, maar in het geval van lastigere stukken mist wat uitleg.</td>
               <td points="10">Er zijn class diagrams, sequence diagrams en use-case diagrams gebruikt in de documentatie. Ze zijn erg duidelijk en er is begeleidende tekst aanwezig die de diagrammen uitleggen.</td>
            </tr>
            <tr>
               <th>Full stack: REST standaarden
                (20)
            </th>
               <td points="0">De REST standaarden zijn niet gevolgd.



<br><br>

OF

<br><br>



De REST standaarden zijn erg slordig geïmplementeerd. Implementatie bevat veel fouten.</td>
               <td points="6">De REST standaarden zijn over het algemeen goed geïmplementeerd, maar bevatten nog veel inconsistenties in bijvoorbeeld de naamgeving van URLs.



<br><br>

OF

<br><br>



Geen front end fout afhandeling.</td>
               <td points="12">De REST standaarden zijn over het algemeen goed geïmplementeerd, maar foutafhandeling is niet overal waterdicht.



<br><br>

EN

<br><br>



De front end pagina’s zijn beschreven met (simpele) wireframes, inclusief een goede beschrijving.</td>
               <td points="16">De applicatie (zowel backend als frontend) houdt zich aan de REST standaarden, maar er worden fouten gemaakt in de implementatie, maar die in ieder geval consistent gemaakt worden.



<br><br>

EN

<br><br>



De front end pagina’s zijn beschreven met (simpele) wireframes, inclusief een goede beschrijving.</td>
               <td points="20">Backend: Alle endpoints zijn volgens de REST standaarden, inclusief naming conventions. Alle relevante Entities zijn toegankelijk, aanpasbaar en verwijderbaar.



<br><br>

EN

<br><br>



Front end code verwerkt API calls op een correcte manier en laat de gebruiker weten als er (status code) fouten optreden met een goede foutmelding.



<br><br>

EN

<br><br>



De front end pagina’s zijn beschreven met (simpele) wireframes, inclusief een goede beschrijving.</td>
            </tr>
            <tr>
               <th>Backend: RESTful NodeJS en Express app
                (20)
            </th>
               <td points="0">De code is onoverzichtelijk. Het “separation of concerns” principe wordt niet gevolgd door het niet netjes scheiden van de code en de code is moeilijk te lezen</td>
               <td points="6">Er is teveel herhaling van code en er is weinig tot geen poging gedaan om dit te voorkomen.</td>
               <td points="12">De backend code is goed geschreven, maar maakt fouten in het separation of concerns principe, bijvoorbeeld door het geen onderscheid maken tussen het afhandelen van routing en het afhandelen van HTTP calls.



<br><br>

OF

<br><br>



Er zijn fouten in de code waardoor de app soms crasht, bijvoorbeeld wanneer er verkeerde gebruikersinput gegeven wordt aan de calls.</td>
               <td points="16">De backend gebruikt NodeJS en Express volgens de nieuwere standaarden (ESModules). De code is goed opgedeeld in submodules (routers, controllers, helper modules, ...) waarbij het "separation of concerns" principe in acht genomen wordt.



<br><br>

EN

<br><br>



Fatsoenlijke validatie van gebruikersinput is gedaan om te zorgen dat de applicatie niet crasht wanneer er iets onverwachts gebeurt. Dit is gedaan aan de hand van een globale error handler.



<br><br>

EN

<br><br>



De naamgeving van de bestanden en folders is consistent en volgens de standaarden. Namen zijn logisch en het de folderstructuur is eenvoudig te begrijpen.



<br><br>

EN

<br><br>



Er is weinig tot geen code documentatie.</td>
               <td points="20">De backend gebruikt NodeJS en Express volgens de nieuwere standaarden (ESModules). De code is goed opgedeeld in submodules (routers, controllers, helper modules, ...) waarbij het "separation of concerns" principe in acht genomen wordt.



<br><br>

EN

<br><br>



Fatsoenlijke validatie van gebruikersinput is gedaan om te zorgen dat de applicatie niet crasht wanneer er iets onverwachts gebeurt. Dit is gedaan aan de hand van een globale error handler.



<br><br>

EN

<br><br>



De naamgeving van de bestanden en folders is consistent en volgens de standaarden. Namen zijn logisch en het de folderstructuur is eenvoudig te begrijpen.



<br><br>

EN

<br><br>



(Bijna) alle classes hebben (simpele) code documentatie waar nodig.</td>
            </tr>
            <tr>
               <th>Backend: Database en queries
                (10)
            </th>
               <td points="0">De backend is niet verbonden met een SQLite database.</td>
               <td points="3">De backend is verbonden met een SQLite database, maar de data komt niet uit de database (hardcoded data bijvoorbeeld).</td>
               <td points="6">De backend is verbonden met een SQLite database, maar de backend mist complexiteit bijvoorbeeld door het missen van een one-to-many relatie in de database.</td>
               <td points="8">De backend is verbonden met een SQLite database, maar de gebruikte queries kunnen efficienter, of geven verkeerde of onvolledige data terug.</td>
               <td points="10">De backend is verbonden met een SQLite database.



<br><br>

EN

<br><br>



De gebruikte queries zijn efficient en goed geschreven. De queries doen precies wat ze moeten doen en geven de juiste data terug.



<br><br>

EN

<br><br>



De controllers doen de queries niet direct op de database, maar maken gebruik van een tussenlaag (bijvoorbeeld een database-helper module) om de data te verkrijgen. De queries zijn netjes gescheiden van de database-helper module.</td>
            </tr>
            <tr>
               <th>Frontend: HTML, CSS, JS
                (20)
            </th>
               <td points="0">Frontend opent niet door het openen van “index.html” in de browser.



<br><br>

OF

<br><br>



Alle code zit in één groot bestand.



<br><br>

OF

<br><br>



Eén van de frontend talen (HTML, CSS, JS) mist.</td>
               <td points="6">De HTML bevat geen semantic HTML.



<br><br>

OF

<br><br>



CSS is niet responsive.



<br><br>

OF

<br><br>



JavaScript gebruik is erg simpel, bijvoorbeeld door niet te binden aan events.</td>
               <td points="12">Het frontend project gebruikt de gevraagde technieken, maar deze worden niet (volledig) correct toegepast en het gebruik is oppervlakkig en mist complexiteit.</td>
               <td points="16">Alle HTML, CSS en JS is opgedeeld in verschillende bestanden. Het frontend project bevat meerdere pagina's die navigeerbaar zonder daar handmatig de URL voor aan te moeten passen in de browser. Er worden echter fouten gemaakt in hoe HTML, CSS of JavaScript gebruikt zou moeten worden.</td>
               <td points="20">Alle HTML, CSS en JS is opgedeeld in verschillende bestanden. Het frontend project bevat meerdere pagina's die navigeerbaar zonder daar handmatig de URL voor aan te moeten passen in de browser.



<br><br>

EN

<br><br>



De HTML volgt HTML5 semantics en gebruikt Flexbox en/of Grid op een juiste manier.



<br><br>

EN

<br><br>



De pagina’s zijn volledig vormgegeven a.d.h.v. CSS en zijn volledig responsive. De juiste measurement units en media queries zijn gebruikt. 



<br><br>

EN

<br><br>



JavaScript wordt gebruikt om events af te vangen, zoals click events. JavaScript wordt gebruikt om de pagina’s dynamischer te maken.</td>
            </tr>
            <tr>
               <th>Frontend: Fetch API
                (10)
            </th>
               <td points="0">De frontend is verbonden met de backend, maar zonder het gebruik van de Fetch API.</td>
               <td points="3">De frontend is verbonden met de backend, maar kan alleen simpele GET requests doen waarbij de resultaten van die requests niet gebruikt worden om de frontend te vullen.</td>
               <td points="6">De frontend is verbonden met de backend, maar kan alleen simpele GET requests doen. De antwoorden van deze GET requests worden gebruikt om de DOM te manipuleren (elementen toevoegen aan de pagina).</td>
               <td points="8">De frontend kan calls doen van alle HTTP Verbs (GET, POST, PUT, DELETE) gebruikmakende van de Fetch API, maar fout afhandeling is vergeten of er is inconsequent omgegaan met .then chaining en async / await.</td>
               <td points="10">De Fetch API is correct gebruikt, gebruikmakende van async / await.



<br><br>

EN

<br><br>



De antwoorden van alle Fetch API calls worden gebruikt om de DOM te manipuleren (door elementen toe te voegen, te veranderen of te verwijderen).



<br><br>

EN

<br><br>



De front end kan calls doen van alle HTTP Verbs (GET, POST, PUT, DELETE) en alle antwoorden worden effectief afgehandeld.</td>
            </tr>
         </tbody>
      </table>
      <p>Total score: <strong><span id="score">0</span></strong></p>
      <p>Permalink to this score: <a href="#" id="code">link</a></p><script>
                    const tbody = document.getElementById("rubricTable");
                    const trows = tbody.getElementsByTagName("tr");
                    const score = document.getElementById("score");
                    const code = document.getElementById("code");

                    function calculateScore() {
                        // calculate score
                        let totalPoints = 0;
                        let codedPoints = "";

                        for (let i = 0; i < trows.length; i++) {
                            const trow = trows[i];
                            const selectedCell = trow.getElementsByClassName("selected")[0];
                            if (selectedCell) {
                                const selectedCellPoints = Number(selectedCell.getAttribute("points"));
                                totalPoints += selectedCellPoints;
                                codedPoints += selectedCellPoints + ";";
                            } else {
                                codedPoints += ";";
                            }
                        }

                        score.innerText = Math.round(totalPoints);
                        code.setAttribute("href", document.location.href.split("?")[0] + "?code=" + btoa(codedPoints));
                    }

                    let pointList;
                    try {
                        const params = new URLSearchParams(document.location.search);
                        const codeFromParam = params.get("code");
                        if (codeFromParam) {
                            const pointsFromUrl = atob(codeFromParam);
                            pointList = pointsFromUrl.split(";");
                        }
                    } catch (err) {
                        console.log(err);
                    }

                    for (let i = 0; i < trows.length; i++) {
                        const trow = trows[i];
                        const cells = trow.getElementsByTagName("td");

                        let selectedPointsFromUrl;
                        if (pointList) {
                            if (pointList[i] || pointList[i] === "0") {
                                selectedPointsFromUrl = Number(pointList[i]);
                            }
                        }

                        for (let j = 0; j < cells.length; j++) {
                            const cell = cells[j];
                            const cellPoints = Number(cell.getAttribute("points"));
                            if (cellPoints === selectedPointsFromUrl) {
                                cell.classList.add("selected");
                            }

                            cell.addEventListener('click', (ev) => {
                                for (let k = 0; k < cells.length; k++) {
                                    const otherCell = cells[k];
                                    otherCell.classList.remove("selected");
                                }
                                cell.classList.add("selected");

                                calculateScore();
                            });
                        }
                    }

                    calculateScore();
                </script></body>
</html>